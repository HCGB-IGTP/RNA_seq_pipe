import argparse 
import os
import sys
import rnaseqpipe.modules

## initiate parser

parser = argparse.ArgumentParser(prog='rnaseqpipe', description=' '
  	##,epilog="(c) 2019. Jose F. Sanchez and Lauro Sumoy."
)

subparsers = parser.add_subparsers(title='Available modules', help='', metavar='')


##-------------    map     ------------##

subparser_map = subparsers.add_parser(
    'map',
    help='Read mapping analysis.',
    description='This module generates a mapping of the reads to a reference genome.',
)


parser.add_argument('-p', '--path_reference', help = 'Directory where the reference genome is, it will be the index directory too ', required = "TRUE")
parser.add_argument('-g', '--reference_genome', help = 'Name of the file containing the reference genome', required = "TRUE")
parser.add_argument('-i', '--index', help= 'It will create a folder called as your argument', required = "TRUE")
parser.add_argument('-r', '--path_reads', help='Path to your txt with the format: $PATH/sample_name;$PATH/read1;$PATH/read or $PATH/sample_name;$PATH/read1. IT IS VERY IMRTANT TO MANTAIN THE ORDER OF THE ELEMENTS AND THAT THEY ARE SEPARATED BY ;', required = "TRUE")
parser.add_argument('-o', '--output', help= 'Path where the outputs will be created', required = "TRUE")
parser.add_argument('-t', '--threads', help = 'Choose how many threads you want to use to execute HISAT2')
parser.add_argument('-f', '--function', choices = ['Indexing', 'Mapping'], help = 'You can choose to execute the indexing function, the quantifying function or, by default, both. Possible choices for this argument: Indexing / Quantifying')
parser.add_argument ('-b', '--gtf', help = 'Path to the file with annotated transcripts in the standard GTF format.')
parser.add_argument ('-k', '--kmers', type = int, help = 'Desired k-mers length when indexing. Default: 31')
parser.add_argument ('-s', '--software', choices = ["HISAT2","STAR","Salmon","Kallisto"], required = "TRUE")

subparser_prep.set_defaults(func=XICRA.modules.prep.run_prep) ????????
